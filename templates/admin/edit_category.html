{% extends "admin/base.html" %}

{% block admin_content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Редактировать категорию</h1>
</div>

<div class="row">
    <div class="col-md-8">
        <form method="POST">
            <div class="form-group">
                <label for="name">Название</label>
                <input type="text" class="form-control" id="name" name="name" value="{{ category.name }}" required>
            </div>
            
            <div class="form-group">
                <label for="slug">URL (только латинские буквы, цифры и дефис)</label>
                <input type="text" class="form-control" id="slug" name="slug" value="{{ category.slug }}" pattern="[a-z0-9-]+" required>
                <small class="form-text text-muted">Например: living-room, bedroom, kitchen</small>
            </div>
            
            <div class="form-group">
                <label for="description">Описание</label>
                <textarea class="form-control" id="description" name="description" rows="3">{{ category.description }}</textarea>
            </div>
            
            <button type="submit" class="btn btn-primary">Сохранить изменения</button>
            <a href="{{ url_for('admin_categories') }}" class="btn btn-secondary">Отмена</a>
        </form>
    </div>
</div>

<script>
document.getElementById('name').addEventListener('input', function() {
    var slug = this.value.toLowerCase()
        .replace(/[^a-z0-9]+/g, '-')
        .replace(/^-+|-+$/g, '');
    document.getElementById('slug').value = slug;
});
</script>
{% endblock %} 